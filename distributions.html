<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Probability Distributions - Saumik Dana</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
<style>
:root {
    --primary: #3b82f6;
    --primary-dark: #1e40af;
    --secondary: #8b5cf6;
    --accent: #06b6d4;
    --success: #10b981;
    --warning: #f59e0b;
    --danger: #ef4444;
    --text: #0f172a;
    --text-muted: #64748b;
    --bg: #ffffff;
    --bg-alt: #f8fafc;
    --bg-dark: #0f172a;
    --border: #e2e8f0;
    --shadow: rgba(0, 0, 0, 0.1);
    --shadow-lg: rgba(0, 0, 0, 0.15);
    --radius: 16px;
    --radius-sm: 8px;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
    line-height: 1.6;
    color: var(--text);
    background: var(--bg-alt);
    overflow-x: hidden;
}

/* Utility Classes */
.container {
    max-width: 1500px;
    margin: 0 auto;
    padding: 0 24px;
}

.grid {
    display: grid;
    gap: 32px;
}

.flex {
    display: flex;
}

.items-center { align-items: center; }
.justify-center { justify-content: center; }
.gap-4 { gap: 16px; }
.gap-6 { gap: 24px; }

.text-center { text-align: center; }
.text-lg { font-size: 1.125rem; }
.text-xl { font-size: 1.25rem; }
.text-2xl { font-size: 1.5rem; }
.text-3xl { font-size: 1.875rem; }
.text-4xl { font-size: 2.25rem; }

.font-medium { font-weight: 500; }
.font-semibold { font-weight: 600; }
.font-bold { font-weight: 700; }

.p-6 { padding: 24px; }
.p-8 { padding: 32px; }
.py-16 { padding: 64px 0; }
.py-20 { padding: 24px 0; }

.rounded { border-radius: var(--radius-sm); }
.rounded-lg { border-radius: var(--radius); }
.rounded-full { border-radius: 9999px; }

.shadow { box-shadow: 0 4px 6px -1px var(--shadow); }
.shadow-lg { box-shadow: 0 10px 15px -3px var(--shadow-lg); }
.shadow-xl { box-shadow: 0 20px 25px -5px var(--shadow-lg); }

.transition { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }

/* Hero Section */
.hero {
    background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
    color: white;
    position: relative;
    overflow: hidden;
}

.hero::before {
    content: '';
    position: absolute;
    inset: 0;
    background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50"><circle cx="50" cy="50" r="2" fill="white" opacity="0.1"/></svg>') repeat;
    animation: float 30s linear infinite;
}

@keyframes float {
    0% { transform: translate(0, 0) rotate(0deg); }
    100% { transform: translate(-100px, -100px) rotate(360deg); }
}

.hero-content {
    position: relative;
    z-index: 2;
}

.hero-title {
    font-size: clamp(1.5rem, 4vw, 3rem);
    font-weight: 200;
    margin-bottom: 24px;
    background: linear-gradient(to right, white, rgba(255,255,255,0.8));
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: slideUp 1s ease-out;
}

.hero-subtitle {
    font-size: clamp(1.125rem, 2vw, 1.5rem);
    opacity: 0.9;
    max-width: 200px;
    margin: 0 auto;
    animation: slideUp 1s ease-out 0.2s both;
}

@keyframes slideUp {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Section Headers */
.section-header {
    margin-bottom: 64px;
}

.section-title {
    font-size: clamp(2rem, 4vw, 3rem);
    font-weight: 500;
    margin-bottom: 16px;
    position: relative;
}

.section-title::after {
    content: '';
    position: absolute;
    bottom: -8px;
    left: 50%;
    transform: translateX(-50%);
    width: 60px;
    height: 4px;
    background: linear-gradient(to right, var(--primary), var(--accent));
    border-radius: 2px;
}

/* Video Grid */
.video-grid {
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
}

.video-card {
    background: var(--bg);
    border-radius: var(--radius);
    overflow: hidden;
    border: 1px solid var(--border);
    position: relative;
    transition: all 0.4s cubic-bezier(0.16, 1, 0.3, 1);
}

.video-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(to right, var(--primary), var(--secondary));
}

.video-card:hover {
    transform: translateY(-8px);
    box-shadow: var(--shadow-xl);
}

.video-card h3 {
    padding: 24px 24px 16px;
    font-size: 1.25rem;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 12px;
}

.video-content {
    padding: 0 24px 24px;
}

.video-placeholder {
    width: 100%;
    height: 240px;
    background: linear-gradient(135deg, var(--bg-alt), #e2e8f0);
    border-radius: var(--radius-sm);
    display: flex;
    align-items: center;
    justify-content: center;
    color: var(--text-muted);
    font-size: 14px;
    border: 2px dashed var(--border);
    margin-bottom: 16px;
}

/* Interactive Section */
.interactive-section {
    background: var(--bg);
}

.distribution-selector {
    margin-bottom: 48px;
}

.dist-buttons {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 12px;
    margin-top: 32px;
}

.dist-btn {
    padding: 12px 24px;
    border: 2px solid var(--border);
    border-radius: var(--radius-sm);
    background: var(--bg);
    color: var(--text);
    cursor: pointer;
    font-size: 14px;
    font-weight: 500;
    font-family: inherit;
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
}

.dist-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(to right, var(--primary), var(--secondary));
    transition: left 0.3s ease;
    z-index: 0;
}

.dist-btn span {
    position: relative;
    z-index: 1;
}

.dist-btn:hover::before,
.dist-btn.active::before {
    left: 0;
}

.dist-btn:hover,
.dist-btn.active {
    color: white;
    border-color: var(--primary);
    transform: translateY(-2px);
    box-shadow: var(--shadow);
}

/* Visualization Layout */
.viz-layout {
    grid-template-columns: 400px 1fr;
    gap: 40px;
    margin-top: 48px;
}

.controls-panel {
    background: var(--bg);
    border-radius: var(--radius);
    padding: 32px;
    border: 1px solid var(--border);
    height: fit-content;
    position: sticky;
    top: 24px;
}

.info-card {
    background: linear-gradient(135deg, #dbeafe 0%, #e0f2fe 100%);
    padding: 24px;
    border-radius: var(--radius);
    margin-bottom: 32px;
    border-left: 4px solid var(--primary);
    position: relative;
}

.info-card::before {
    content: '';
    position: absolute;
    top: -8px;
    right: -8px;
    width: 40px;
    height: 40px;
    background: var(--primary);
    opacity: 0.1;
    border-radius: 50%;
}

.info-card h3 {
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 8px;
}

.info-card p {
    color: var(--text-muted);
    font-size: 14px;
}

.control-group {
    margin-bottom: 24px;
}

.control-group label {
    display: block;
    margin-bottom: 8px;
    font-weight: 500;
    font-size: 14px;
}

.control-group input {
    width: 100%;
    padding: 12px 16px;
    border: 2px solid var(--border);
    border-radius: var(--radius-sm);
    font-size: 14px;
    font-family: 'JetBrains Mono', monospace;
    background: var(--bg-alt);
    color: var(--text);
    transition: all 0.3s ease;
}

.control-group input:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    background: var(--bg);
}

.stats-card {
    background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
    padding: 24px;
    border-radius: var(--radius);
    margin-top: 32px;
    border: 1px solid rgba(59, 130, 246, 0.2);
}

.stats-card h4 {
    font-size: 1rem;
    font-weight: 600;
    margin-bottom: 16px;
    display: flex;
    align-items: center;
    gap: 8px;
}

.stat-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 12px;
    padding: 8px 0;
    border-bottom: 1px solid rgba(59, 130, 246, 0.1);
    font-size: 14px;
}

.stat-row:last-child {
    border-bottom: none;
    margin-bottom: 0;
}

.stat-label {
    color: var(--text-muted);
    font-weight: 500;
}

.stat-value {
    color: var(--text);
    font-weight: 600;
    font-family: 'JetBrains Mono', monospace;
    background: rgba(59, 130, 246, 0.1);
    padding: 4px 8px;
    border-radius: 4px;
}

.chart-container {
    background: var(--bg);
    border-radius: var(--radius);
    padding: 32px;
    border: 1px solid var(--border);
    height: 600px;
    position: relative;
    overflow: hidden;
}

.chart-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(to right, var(--primary), var(--accent));
}

/* VaR Section */
.var-section {
    background: var(--bg-alt);
}

.var-container {
    max-width: 1200px;
    margin: 0 auto;
    background: var(--bg);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    overflow: hidden;
}

.var-header {
    background: linear-gradient(135deg, var(--bg-alt), var(--bg));
    padding: 32px;
    text-align: center;
    border-bottom: 1px solid var(--border);
}

.var-title {
    font-size: 2rem;
    font-weight: 700;
    color: var(--primary);
    margin-bottom: 8px;
}

.var-content {
    display: grid;
    grid-template-columns: 1fr 320px;
    gap: 32px;
    padding: 32px;
}

.var-chart-area {
    position: relative;
}

.var-canvas {
    width: 100%;
    height: 500px;
    border-radius: var(--radius-sm);
    background: var(--bg);
    border: 1px solid var(--border);
    display: block;
}

.var-controls {
    background: var(--bg-alt);
    border: 1px solid var(--border);
    border-radius: var(--radius);
    padding: 24px;
    height: fit-content;
}

.var-control-group {
    margin-bottom: 20px;
}

.var-control-group label {
    display: block;
    font-size: 12px;
    color: var(--text-muted);
    margin-bottom: 8px;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.var-btn {
    appearance: none;
    border: 1px solid var(--border);
    background: var(--bg);
    color: var(--text);
    padding: 12px 16px;
    border-radius: var(--radius-sm);
    cursor: pointer;
    width: 100%;
    font-weight: 500;
    margin-bottom: 8px;
    font-size: 14px;
    transition: all 0.3s ease;
}

.var-btn:hover {
    background: var(--bg-alt);
    transform: translateY(-1px);
}

.var-btn.active {
    background: linear-gradient(135deg, var(--primary), var(--primary-dark));
    color: white;
    border-color: var(--primary);
}

.var-btn.play {
    background: linear-gradient(135deg, var(--success), #047857);
    color: white;
    border-color: var(--success);
}

.var-display {
    font-size: 1.5rem;
    font-weight: 700;
    color: var(--danger);
    text-align: center;
    padding: 16px;
    background: linear-gradient(135deg, #fef2f2, #fee2e2);
    border-radius: var(--radius-sm);
    margin: 16px 0;
    border: 1px solid #fecaca;
}

.var-stats {
    font-size: 13px;
    line-height: 1.6;
    padding: 16px;
    background: var(--bg);
    border-radius: var(--radius-sm);
    border: 1px solid var(--border);
}

.var-legend {
    display: flex;
    gap: 24px;
    flex-wrap: wrap;
    justify-content: center;
    margin-top: 16px;
    font-size: 12px;
    color: var(--text-muted);
}

.var-legend-item {
    display: flex;
    align-items: center;
    gap: 8px;
}

.legend-chip {
    width: 16px;
    height: 16px;
    border-radius: 4px;
}

.chip-blue { background: var(--primary); }
.chip-red { background: var(--danger); }
.chip-green { background: var(--success); }

.var-explanation {
    margin-top: 16px;
    padding: 20px;
    background: linear-gradient(135deg, #f0f9ff, #dbeafe);
    border: 1px solid #bfdbfe;
    border-radius: var(--radius-sm);
    font-size: 13px;
    line-height: 1.6;
}

/* Proof Section */
.proof-section {
    background: var(--bg);
    border-top: 1px solid var(--border);
}

.proof-container {
    max-width: 900px;
    margin: 0 auto;
}

.proof-title {
    font-size: 2.5rem;
    font-weight: 700;
    text-align: center;
    margin-bottom: 48px;
    color: var(--text);
}

.proof-content h2 {
    font-size: 1.5rem;
    font-weight: 600;
    margin: 40px 0 16px;
    color: var(--primary);
    padding-bottom: 8px;
    border-bottom: 2px solid var(--border);
}

.proof-content p {
    margin-bottom: 16px;
    color: var(--text-muted);
    line-height: 1.7;
}

.formula {
    background: linear-gradient(135deg, #fef3c7, #fde68a);
    padding: 24px;
    border-radius: var(--radius);
    text-align: center;
    font-family: 'JetBrains Mono', monospace;
    font-size: 1.125rem;
    font-weight: 600;
    margin: 24px 0;
    border: 1px solid #f59e0b;
    color: var(--text);
}

.proof-content ul {
    margin: 16px 0;
    padding-left: 24px;
}

.proof-content li {
    margin-bottom: 8px;
    color: var(--text-muted);
    line-height: 1.6;
}

.math {
    font-family: 'JetBrains Mono', monospace;
    background: var(--bg-alt);
    padding: 2px 6px;
    border-radius: 4px;
    font-weight: 500;
}

.step {
    background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
    padding: 24px;
    border-radius: var(--radius);
    margin: 24px 0;
    border-left: 4px solid var(--primary);
}

.highlight {
    background: linear-gradient(135deg, #ecfdf5, #d1fae5);
    padding: 24px;
    border-radius: var(--radius);
    margin: 24px 0;
    border-left: 4px solid var(--success);
}

.failure {
    background: linear-gradient(135deg, #fef2f2, #fee2e2);
    padding: 24px;
    border-radius: var(--radius);
    margin: 24px 0;
    border-left: 4px solid var(--danger);
}

.conclusion {
    background: linear-gradient(135deg, #f3e8ff, #e9d5ff);
    padding: 32px;
    border-radius: var(--radius);
    margin: 32px 0;
    border: 2px solid var(--secondary);
    text-align: center;
}

.conclusion p {
    font-size: 1.125rem;
    font-weight: 500;
    margin: 0;
    color: var(--text);
}

/* Applications section styles */
.applications-list {
    background: linear-gradient(135deg, #fef7e0 0%, #fef3c7 100%);
    padding: 20px;
    border-radius: var(--radius);
    margin-top: 20px;
    border-left: 4px solid var(--warning);
}

.applications-list h4 {
    font-size: 1rem;
    font-weight: 600;
    color: var(--text);
    margin-bottom: 12px;
}

.applications-list ul {
    margin: 0;
    padding-left: 20px;
}

.applications-list li {
    margin-bottom: 8px;
    font-size: 13px;
    color: var(--text-muted);
    line-height: 1.4;
}

/* Responsive Design */
@media (max-width: 1024px) {
    .viz-layout,
    .var-content {
        grid-template-columns: 1fr;
        gap: 32px;
    }
    
    .controls-panel {
        position: static;
    }
    
    .chart-container {
        height: 500px;
    }
    
    .var-canvas {
        height: 400px;
    }
}

@media (max-width: 768px) {
    .container {
        padding: 0 16px;
    }
    
    .py-20 {
        padding: 24px 0;
    }
    
    .video-grid {
        grid-template-columns: 1fr;
    }
    
    .dist-buttons {
        flex-direction: column;
        align-items: center;
        gap: 8px;
    }
    
    .dist-btn {
        width: 240px;
    }
    
    .var-legend {
        justify-content: center;
        gap: 16px;
    }
    
    .p-8 {
        padding: 24px;
    }
    
    .section-title::after {
        width: 40px;
    }
}

@media (max-width: 480px) {
    .hero-title {
        font-size: 2rem;
    }
    
    .section-title {
        font-size: 1.75rem;
    }
    
    .var-title {
        font-size: 1.5rem;
    }
    
    .proof-title {
        font-size: 2rem;
    }
}

/* Animations */
.fade-in {
    animation: fadeIn 0.6s ease-out;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Focus States */
button:focus,
input:focus {
    outline: 2px solid var(--primary);
    outline-offset: 2px;
}

/* Smooth Scrolling */
html {
    scroll-behavior: smooth;
}

/* Loading Animation */
.loading {
    display: inline-block;
    width: 20px;
    height: 20px;
    border: 3px solid rgba(59, 130, 246, 0.3);
    border-radius: 50%;
    border-top-color: var(--primary);
    animation: spin 1s ease-in-out infinite;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}
</style>
</head>
<body>
    <!-- Hero Section -->
    <section class="hero py-20">
        <div class="container">
            <div class="hero-content text-center">
                <h1 class="hero-title">Probability Distributions</h1>
            </div>
        </div>
    </section>

    <!-- Video Section -->
    <section class="py-20">
        <div class="container">
            <div class="section-header text-center">
                <h2 class="section-title">Statistical Concepts</h2>
                <p class="text-lg" style="color: var(--text-muted);">Understanding key statistical measures through visual demonstrations</p>
            </div>
            
            <div class="grid video-grid">
                <div class="video-card">
                    <h3>üîµ Skewness</h3>
                    <div class="video-content">
                        <video width="100%" height="240" controls style="border-radius: 8px;">
                            <source src="skew_distribution_animation.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
                
                <div class="video-card">
                    <h3>üü† Kurtosis</h3>
                    <div class="video-content">
                        <video width="100%" height="240" controls style="border-radius: 8px;">
                            <source src="kurtosis_distribution_animation.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
                
                <div class="video-card">
                    <h3>‚öñÔ∏è Value at Risk</h3>
                    <div class="video-content">
                        <video width="100%" height="240" controls style="border-radius: 8px;">
                            <source src="simple_var_animation.mp4" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Interactive Distributions -->
    <section class="interactive-section py-20">
        <div class="container">
            <div class="section-header text-center">
                <h2 class="section-title">Interactive Distributions</h2>
                <p class="text-lg" style="color: var(--text-muted);">Manipulate parameters and observe real-time changes in probability distributions</p>
            </div>
            
            <div class="distribution-selector">
                <div class="dist-buttons">
                    <button class="dist-btn active" data-distribution="binomial">
                        <span>Binomial</span>
                    </button>
                    <button class="dist-btn" data-distribution="poisson">
                        <span>Poisson</span>
                    </button>
                    <button class="dist-btn" data-distribution="geometric">
                        <span>Geometric</span>
                    </button>
                    <button class="dist-btn" data-distribution="negativeBinomial">
                        <span>Negative Binomial</span>
                    </button>
                    <button class="dist-btn" data-distribution="hypergeometric">
                        <span>Hypergeometric</span>
                    </button>
                    <button class="dist-btn" data-distribution="uniform">
                        <span>Uniform</span>
                    </button>
                </div>
            </div>

            <div class="grid viz-layout">
                <div class="controls-panel">
                    <div class="info-card" id="distInfo">
                        <h3>Binomial Distribution</h3>
                        <p>Models the number of successes in n independent trials with constant probability of success.</p>
                    </div>
                    
                    <div id="parameterControls">
                        <div class="control-group">
                            <label for="param1">Number of trials (n)</label>
                            <input type="number" id="param1" value="10" min="1" max="100">
                        </div>
                        <div class="control-group">
                            <label for="param2">Probability of success (p)</label>
                            <input type="number" id="param2" value="0.5" min="0" max="1" step="0.01">
                        </div>
                    </div>

                    <div class="stats-card" id="statsDisplay">
                        <h4>üìä Statistics</h4>
                        <div class="stat-row">
                            <span class="stat-label">Mean (Œº)</span>
                            <span class="stat-value" id="meanValue">5.0</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">Variance (œÉ¬≤)</span>
                            <span class="stat-value" id="varianceValue">2.5</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-label">Std Dev (œÉ)</span>
                            <span class="stat-value" id="stddevValue">1.58</span>
                        </div>
                    </div>

                    <div class="applications-list">
                        <h4>Real-world Applications</h4>
                        <ul>
                            <li>Quality control in manufacturing</li>
                            <li>Medical test accuracy</li>
                            <li>Marketing campaign success rates</li>
                            <li>Financial risk modeling</li>
                        </ul>
                    </div>
                </div>

                <div class="chart-container">
                    <canvas id="distributionChart"></canvas>
                </div>
            </div>
        </div>
    </section>

    <!-- VaR Section -->
    <section class="var-section py-20">
        <div class="container">
            <div class="var-container">
                <div class="var-header">
                    <h2 class="var-title">VaR Portfolio Optimization</h2>
                    <p style="color: var(--text-muted);">Interactive demonstration of risk optimization through portfolio rebalancing</p>
                </div>
                
                <div class="var-content">
                    <div class="var-chart-area">
                        <canvas id="varPlot" class="var-canvas" width="850" height="500"></canvas>
                        
                        <div class="var-legend">
                            <div class="var-legend-item">
                                <div class="legend-chip chip-blue"></div>
                                <span>Initial Portfolio</span>
                            </div>
                            <div class="var-legend-item">
                                <div class="legend-chip chip-red"></div>
                                <span>Fixed Loss Threshold (initial VaR‚Çâ‚ÇÖ)</span>
                            </div>
                            <div class="var-legend-item">
                                <div class="legend-chip chip-green"></div>
                                <span>Optimized Portfolio</span>
                            </div>
                        </div>
                        
                        <div class="var-explanation">
                            <strong>What you're seeing:</strong> The red line stays fixed at the original VaR‚Çâ‚ÇÖ level. As we optimize the portfolio (green curve), the distribution shifts right, dramatically reducing the probability of losses worse than our original threshold. The red shaded area shrinks from 5% to much less!
                        </div>
                    </div>
                    
                    <div class="var-controls">
                        <div class="var-control-group">
                            <label>Animation Control</label>
                            <button id="varPlayBtn" class="var-btn play">‚ñ∂ Start Optimization</button>
                            <button id="varResetBtn" class="var-btn">‚ü≤ Reset</button>
                        </div>
                        
                        <div class="var-control-group">
                            <label>Optimization Strategy</label>
                            <button id="varShiftBtn" class="var-btn active">Shift Right (‚Üó returns)</button>
                            <button id="varTightenBtn" class="var-btn">Tighten (‚Üì volatility)</button>
                            <button id="varBothBtn" class="var-btn">Both Strategies</button>
                        </div>
                        
                        <div class="var-display" id="varDisplay">
                            VaR‚Çâ‚ÇÖ = 3.29%
                        </div>
                        
                        <div class="var-stats" id="varStatsDisplay">
                            <div><strong>Current Portfolio:</strong></div>
                            <div>‚Ä¢ Mean return: 0.0%</div>
                            <div>‚Ä¢ Volatility: 2.0%</div>
                            <div>‚Ä¢ 5th percentile: -3.29%</div>
                            <div><strong>Progress:</strong> 0%</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Mathematical Proof Section -->
    <section class="proof-section py-20">
        <div class="container">
            <div class="proof-container">
                <h1 class="proof-title">Proof: Quantile Functions Are Not Convex</h1>

                <div class="proof-content">
                    <h2>Standard Convexity Test</h2>
                    <p>For ANY function f to be convex, it must satisfy:</p>

                    <div class="formula">
                        f(Œªx + (1-Œª)y) ‚â§ Œªf(x) + (1-Œª)f(y)
                    </div>
                    
                    <p>for all x, y in the domain and Œª ‚àà [0,1].</p>

                    <h2>Applied to Quantiles</h2>
                    <p>Here:</p>
                    <ul>
                        <li><span class="math">f = Q<sub>p</sub></span> (the quantile function)</li>
                        <li><span class="math">x = X</span> (first distribution)</li>
                        <li><span class="math">y = Y</span> (second distribution)</li>
                        <li><span class="math">Œªx + (1-Œª)y = Z</span> (the mixture distribution)</li>
                    </ul>

                    <p>So the test becomes:</p>

                    <div class="formula">
                        Q<sub>p</sub>(mixture) ‚â§ ŒªQ<sub>p</sub>(X) + (1-Œª)Q<sub>p</sub>(Y)
                    </div>

                    <h2>Finding Q<sub>0.6</sub>(X)</h2>
                    
                    <div class="step">
                        <p>X is a degenerate distribution that always equals 2.</p>
                        <p>For any probability level p, including p = 0.6:</p>
                        <p class="math">Q<sub>0.6</sub>(X) = 2</p>
                    </div>

                    <h2>Finding Q<sub>0.6</sub>(Y)</h2>

                    <div class="step">
                        <p>Y is a degenerate distribution that always equals 10.</p>
                        <p>For any probability level p, including p = 0.6:</p>
                        <p class="math">Q<sub>0.6</sub>(Y) = 10</p>
                    </div>

                    <h2>What the Mixture Distribution Z Actually Is</h2>
                    
                    <div class="highlight">
                        <p>The mixture Z = 0.3X + 0.7Y creates a discrete distribution:</p>
                        <ul>
                            <li>Takes value <strong>2</strong> with probability <strong>0.3</strong></li>
                            <li>Takes value <strong>10</strong> with probability <strong>0.7</strong></li>
                        </ul>
                    </div>

                    <h2>Finding Q<sub>0.6</sub>(Z) - The Key Step</h2>
                    
                    <div class="step">
                        <p>To find the 60th percentile of Z:</p>
                        <ul>
                            <li>At value 2: cumulative probability = 0.3 < 0.6 ‚ùå (not enough)</li>
                            <li>At value 10: cumulative probability = 1.0 ‚â• 0.6 ‚úÖ (sufficient)</li>
                        </ul>
                        <p>Therefore: <span class="math">Q<sub>0.6</sub>(Z) = 10</span></p>
                    </div>

                    <h2>Our Numbers</h2>
                    <ul>
                        <li>Left side: <span class="math">Q<sub>p</sub>(Z) = 10</span> (quantile jumps to 10)</li>
                        <li>Right side: <span class="math">0.3(2) + 0.7(10) = 7.6</span> (smooth weighted average)</li>
                        <li>Test: <span class="math">10 ‚â§ 7.6</span> ‚ùå</li>
                    </ul>

                    <h2>Convexity Fails!</h2>
                    
                    <div class="failure">
                        <p>The quantile function gives us 10 for the mixture, but convexity would require it to be ‚â§ 7.6. The quantile <strong>jumps discontinuously</strong> from 2 to 10, skipping over the weighted average of 7.6 entirely.</p>
                        
                        <p>Since <strong>10 > 7.6</strong>, the quantile function violates convexity.</p>
                    </div>

                    <div class="conclusion">
                        <p>This discontinuous jump is exactly why VaR optimization is non-convex and computationally problematic. Standard optimization algorithms fail because the risk landscape has sudden jumps and multiple local optima.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <script src="distributions.js"></script>
</body>
</html>
