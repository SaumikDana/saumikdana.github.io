<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simplified Portfolio - Saumik Dana</title>
<link rel="stylesheet" href="styles.css">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=EB+Garamond&display=swap" rel="stylesheet">
<!-- Load MathJax -->
<script>
MathJax = {
  tex: {
    inlineMath: [['\\(', '\\)']],
    displayMath: [['\\[', '\\]']]
  }
};
</script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js" async></script>
<style>
.main-content {
    display: flex;
    flex-wrap: wrap;
    align-items: flex-start;
    justify-content: center;
    gap: 20px;
}
.custom-image {
    width: 80%;
    max-width: 800px; 
    margin-bottom: 0;
    padding-bottom: 0;
}
.custom-image1 {
    width: 100%;
    max-width: 1400px; 
    margin-bottom: 0;
    padding-bottom: 0;
}
.text-content {
    flex: 1;
    max-width: 600px;
}
@media (max-width: 768px) {
    .main-content {
        flex-direction: column;
    }
    .custom-image,
    .text-content {
        max-width: 100%;
    }
}
.image-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: repeat(4, auto);
    gap: 10px;
}
.image-grid img {
    width: 100%;
    height: auto;
}
.container {
    max-width: 800px;
    margin: 0 auto;
    background: white;
    padding: 30px;
    border-radius: 10px;
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}
    h1 {
    color: #2c3e50;
    text-align: center;
    margin-bottom: 30px;
    font-size: 28px;
}
.algorithm-box {
    background: #f8f9fa;
    border: 2px solid #e9ecef;
    border-radius: 8px;
    padding: 25px;
    font-family: 'Courier New', monospace;
    font-size: 16px;
    line-height: 1.8;
}
.step {
    margin: 10px 0;
    padding: 8px 0;
}
.nested-level-1 {
   margin-left: 30px;
}
.nested-level-2 {
   margin-left: 60px;
}
.nested-level-3 {
   margin-left: 90px;
}
.bullet {
    color: #e74c3c;
    font-weight: bold;
    margin-right: 8px;
}
.keyword {
    color: #3498db;
    font-weight: bold;
}
.emphasis {
    color: #27ae60;
    font-weight: bold;
}
h2 {
    color: #34495e;
    margin-top: 30px;
    background-color: #ecf0f1;
    padding: 10px 15px;
    border-radius: 5px;
}
h3 {
    color: #2980b9;
    margin-top: 25px;
}
.formula {
    background-color: #f8f9fa;
    border: 2px solid #dee2e6;
    border-radius: 8px;
    padding: 15px;
    font-family: 'Courier New', monospace;
    font-size: 18px;
    text-align: center;
    margin: 15px 0;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
.example-box {
    background-color: #e8f5e8;
    border-left: 4px solid #28a745;
    padding: 15px;
    margin: 15px 0;
}
.key-points {
    background-color: #fff3cd;
    border: 1px solid #ffeaa7;
    border-radius: 5px;
    padding: 15px;
    margin: 15px 0;
}
.problem-box {
    background-color: #f8d7da;
    border: 1px solid #f5c6cb;
    border-radius: 5px;
    padding: 15px;
    margin: 15px 0;
}
ul {
    padding-left: 20px;
}
li {
    margin-bottom: 8px;
}
.highlight {
    font-weight: bold;
    color: #e74c3c;
}
.comparison-table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    background-color: white;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}
.comparison-table th, .comparison-table td {
    border: 1px solid #ddd;
    padding: 12px;
    text-align: left;
}
.comparison-table th {
    background-color: #3498db;
    color: white;
    font-weight: bold;
}
.comparison-table tr:nth-child(even) {
    background-color: #f9f9f9;
}
.toc {
    background-color: #e3f2fd;
    border: 1px solid #bbdefb;
    border-radius: 8px;
    padding: 20px;
    margin: 20px 0;
}
.toc h3 {
    margin-top: 0;
    color: #1565c0;
}
.toc ul {
    margin-bottom: 0;
}
.toc a {
    color: #1976d2;
    text-decoration: none;
}
.toc a:hover {
    text-decoration: underline;
}
:root {
  --bg: #ffffff;
  --fg: #1f2937;
  --muted: #6b7280;
  --accent: #2563eb;
  --border: #e5e7eb;
  --card: #ffffff;
  --card-border: #d1d5db;
  --code-bg: #f3f4f6;
}

* { 
  box-sizing: border-box; 
}

html, body { 
  margin: 0; 
  padding: 0; 
}

body {
  background: var(--bg);
  color: var(--fg);
  font: 16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
}

.wrap { 
  max-width: 95%; 
  margin: 0 auto; 
  padding: 32px 16px 64px; 
}

header h1 { 
  margin: 0 0 6px; 
  font-size: clamp(1.6rem, 1.2rem + 1.5vw, 2.2rem); 
  letter-spacing: -0.02em;
  color: var(--fg);
  font-weight: 700;
}

header p { 
  margin: 0 0 22px; 
  color: var(--muted); 
  font-size: 1.1rem;
}

.card { 
  background: var(--card); 
  border: 1px solid var(--card-border); 
  border-radius: 14px; 
  padding: 24px; 
  box-shadow: 0 1px 3px rgba(0,0,0,0.1), 0 4px 12px rgba(0,0,0,0.05); 
}

.table-wrap { 
  overflow-x: auto; 
  -webkit-overflow-scrolling: touch; 
}

table { 
  width: 100%; 
  border-collapse: collapse; 
  min-width: 760px; 
}

thead th { 
  text-align: left; 
  font-weight: 700; 
  font-size: 0.95rem; 
  color: var(--fg); 
  border-bottom: 2px solid var(--border); 
  padding: 16px 12px; 
  background: #f9fafb;
}

tbody td { 
  vertical-align: top; 
  padding: 16px 12px; 
  border-bottom: 1px solid var(--border); 
  line-height: 1.5;
}

tbody tr:hover {
  background: #f8fafc;
}

tbody tr:last-child td {
  border-bottom: none;
}

code, kbd { 
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; 
  font-size: 0.9em; 
  background: var(--code-bg); 
  padding: 2px 6px; 
  border-radius: 4px;
  color: #374151;
}

.note { 
  margin-top: 20px; 
  color: var(--muted); 
  font-size: 0.95rem; 
  padding: 16px;
  background: #f8fafc;
  border-radius: 8px;
  border-left: 4px solid var(--accent);
}

footer { 
  margin-top: 28px; 
  color: var(--muted); 
  font-size: 0.9rem; 
  padding: 16px;
  background: #f9fafb;
  border-radius: 8px;
  border: 1px solid var(--border);
}

a { 
  color: var(--accent); 
  text-decoration: none; 
}

a:hover { 
  text-decoration: underline; 
}

strong {
  font-weight: 600;
  color: var(--fg);
}

/* Math styling */
.MathJax {
  color: var(--fg) !important;
}

.mjx-chtml {
  color: var(--fg) !important;
}

/* Table styling improvements */
td:first-child {
  font-weight: 500;
}

td:nth-child(2) {
  font-style: italic;
}

/* Responsive improvements */
@media (max-width: 768px) {
  .wrap {
    max-width: 98%;
    padding: 20px 12px 40px;
  }
  
  .card {
    padding: 16px;
  }
  
  table {
    font-size: 0.9rem;
  }
  
  thead th,
  tbody td {
    padding: 12px 8px;
  }
}

@media (min-width: 1400px) {
  .wrap {
    max-width: 98%;
  }
}

/* Enhanced table layout for wide screens */
@media (min-width: 1200px) {
  table {
    min-width: 100%;
  }
  
  thead th,
  tbody td {
    padding: 18px 16px;
  }
  
  tbody td {
    font-size: 1rem;
  }
}
</style>  
</head>
<body>
<header>
<img src="saumik.jpg" alt="Profile Picture of Saumik Dana" class="profile-pic">
<div class="header-text">
<h1>Options</h1>   
</div>
<img src="mltrading.webp" alt="Machine Learning Trading Visual" class="profile-pic-right"> 
</header>
<main>

<div class="image-grid">
<img src="greek_price.png" alt="Image 1">
<img src="smile_skew.png" alt="Image 2">
</div>

<div class="image-grid">
<img src="options_delta.png" alt="Image 1">
<img src="options_moneyness.png" alt="Image 2">
</div>

<div class="image-grid">
<img src="smile_skew_delta.png" alt="Image 1">
<img src="fintech_firms.png" alt="Image 2">
</div>

<div class="main-content">
<img src="straddle_strangle.png" alt="Straddle Strangle" class="custom-image">
</div>
    
<div class="image-grid">
<img src="condor.png" alt="Image 1">
<img src="butterfly.png" alt="Image 2">
</div>


  
<div class="container">
<h1>Decision Tree Regressor Algorithm Steps</h1>
<div class="algorithm-box">
<div class="step">
<span class="bullet">•</span> <span class="keyword">Original MSE</span> from all Y values
</div>
<div class="step">
<span class="bullet">•</span> <span class="for-loop">For each feature</span>
</div>
<div class="step nested-level-1">
<span class="bullet">•</span> <span class="for-loop">For each possible split</span> (based on X values)
</div>
<div class="step nested-level-2">
<span class="bullet">•</span> <span class="keyword">Split Y values</span> into two groups
</div>
<div class="step nested-level-2">
<span class="bullet">•</span> <span class="keyword">Calculate mean and MSE</span> for each group
</div>
<div class="step nested-level-2">
<span class="bullet">•</span> <span class="keyword">Combine MSEs</span> with weighted average
</div>
<div class="step nested-level-2">
<span class="bullet">•</span> <span class="emphasis">Information Gain</span> = Original MSE - Weighted MSE
</div>
<div class="step nested-level-1">
<span class="bullet">•</span> <span class="emphasis">Track split with highest gain</span> for this feature
</div>
<div class="step">
<span class="bullet">•</span> <span class="emphasis">Select best split</span> across all features
</div>
</div>
</div>



  
<div style="margin-top: 30px; padding: 20px; background: #f8f9fa; border: 2px solid #e9ecef; border-radius: 8px;">
<h3 style="color: #2c3e50; margin-top: 0;">Complete Analysis Output:</h3>
<pre style="font-family: 'Courier New', monospace; font-size: 11px; color: #2c3e50; background: #ffffff; padding: 15px; border-radius: 5px; overflow-x: auto; max-height: 400px; overflow-y: auto;">================================================================================
ROOT NODE SPLIT ANALYSIS - ALL POSSIBLE SPLITS
================================================================================
Original MSE (all data together): 57428.1638
Total samples: 540
Target mean: 4.8583

📊 FEATURE: ep1
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for ep1: ≤ 0.016 (gain: 967.379277)

📊 FEATURE: ep2
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for ep2: ≤ 0.023 (gain: 614.880218)

📊 FEATURE: vsp1
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for vsp1: ≤ 0.032 (gain: 967.379277)

📊 FEATURE: vsp2
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for vsp2: ≤ 0.047 (gain: 614.880218)

📊 FEATURE: ps1
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for ps1: ≤ 2.622 (gain: 1078.762002)

📊 FEATURE: ps2
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for ps2: ≤ -1.214 (gain: 685.158411)

📊 FEATURE: ps3
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for ps3: ≤ 0.893 (gain: 297.206770)

📊 FEATURE: ps4
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for ps4: ≤ 0.608 (gain: 667.142681)

📊 FEATURE: gam_t
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for gam_t: ≤ 0.003 (gain: 701.800267)

📊 FEATURE: vega_t
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for vega_t: ≤ 1.052 (gain: 550.542228)

📊 FEATURE: ts1
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for ts1: ≤ 0.525 (gain: 314.668971)

📊 FEATURE: ts2
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for ts2: ≤ 0.512 (gain: 555.451128)

📊 FEATURE: strike_bias
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for strike_bias: ≤ -0.004 (gain: 886.752889)

📊 FEATURE: atm_pc_ratio
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for atm_pc_ratio: ≤ 0.951 (gain: 162.693451)

📊 FEATURE: otm_pc_ratio
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for otm_pc_ratio: ≤ 1.440 (gain: 998.071416)

📊 FEATURE: gamma_conc
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for gamma_conc: ≤ 0.278 (gain: 611.190562)

📊 FEATURE: net_delta
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for net_delta: ≤ 43352136.673 (gain: 771.967713)

📊 FEATURE: vanna_exp
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for vanna_exp: ≤ 68992.281 (gain: 565.248857)

📊 FEATURE: vw_spread
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for vw_spread: ≤ 0.594 (gain: 976.291212)

📊 FEATURE: vol_oi_ratio
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for vol_oi_ratio: ≤ 0.298 (gain: 651.133546)

📊 FEATURE: vol_slope_dte
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for vol_slope_dte: ≤ -0.000 (gain: 760.706785)

📊 FEATURE: vol_term_spread
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for vol_term_spread: ≤ 0.032 (gain: 881.926379)

📊 FEATURE: b1w50dC_011iv
--------------------------------------------------
Unique values: 536 values
Number of possible splits: 535
🏆 Best split for b1w50dC_011iv: ≤ 0.331 (gain: 1350.318444)

📊 FEATURE: b1w50dC_011spread
--------------------------------------------------
Unique values: 439 values
Number of possible splits: 438
🏆 Best split for b1w50dC_011spread: ≤ 0.053 (gain: 1170.817673)

📊 FEATURE: b1w50dC_011gamma
--------------------------------------------------
Unique values: 528 values
Number of possible splits: 527
🏆 Best split for b1w50dC_011gamma: ≤ 0.030 (gain: 910.460197)

📊 FEATURE: b1w50dC_011vega
--------------------------------------------------
Unique values: 530 values
Number of possible splits: 529
🏆 Best split for b1w50dC_011vega: ≤ 0.145 (gain: 541.617119)

📊 FEATURE: b1w50dC_011theta
--------------------------------------------------
Unique values: 539 values
Number of possible splits: 538
🏆 Best split for b1w50dC_011theta: ≤ -0.702 (gain: 525.221872)

📊 FEATURE: b1w50dC_011mid
--------------------------------------------------
Unique values: 407 values
Number of possible splits: 406
🏆 Best split for b1w50dC_011mid: ≤ 5.225 (gain: 575.797658)

📊 FEATURE: b1w50dP_011iv
--------------------------------------------------
Unique values: 531 values
Number of possible splits: 530
🏆 Best split for b1w50dP_011iv: ≤ 0.329 (gain: 1350.318444)

📊 FEATURE: b1w50dP_011spread
--------------------------------------------------
Unique values: 431 values
Number of possible splits: 430
🏆 Best split for b1w50dP_011spread: ≤ 0.010 (gain: 1123.635552)

📊 FEATURE: b1w50dP_011gamma
--------------------------------------------------
Unique values: 532 values
Number of possible splits: 531
🏆 Best split for b1w50dP_011gamma: ≤ 0.031 (gain: 894.772135)

📊 FEATURE: b1w50dP_011vega
--------------------------------------------------
Unique values: 519 values
Number of possible splits: 518
🏆 Best split for b1w50dP_011vega: ≤ 0.145 (gain: 541.617119)

📊 FEATURE: b1w50dP_011theta
--------------------------------------------------
Unique values: 534 values
Number of possible splits: 533
🏆 Best split for b1w50dP_011theta: ≤ -0.666 (gain: 554.699985)

📊 FEATURE: b1w50dP_011mid
--------------------------------------------------
Unique values: 400 values
Number of possible splits: 399
🏆 Best split for b1w50dP_011mid: ≤ 5.335 (gain: 894.772135)

📊 FEATURE: vix
--------------------------------------------------
Unique values: 466 values
Number of possible splits: 465
🏆 Best split for vix: ≤ 28.995 (gain: 556.468126)

📊 FEATURE: vix30
--------------------------------------------------
Unique values: 535 values
Number of possible splits: 534
🏆 Best split for vix30: ≤ 31.197 (gain: 743.194942)

📊 FEATURE: vix9d
--------------------------------------------------
Unique values: 476 values
Number of possible splits: 475
🏆 Best split for vix9d: ≤ 32.405 (gain: 843.660651)

📊 FEATURE: vvix
--------------------------------------------------
Unique values: 513 values
Number of possible splits: 512
🏆 Best split for vvix: ≤ 121.160 (gain: 942.352982)

📊 FEATURE: rv
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for rv: ≤ 22.360 (gain: 2663.428490)

📊 FEATURE: vrp
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for vrp: ≤ 6.958 (gain: 2829.828337)

📊 FEATURE: DGS3MO
--------------------------------------------------
Unique values: 220 values
Number of possible splits: 219
🏆 Best split for DGS3MO: ≤ 0.265 (gain: 442.956022)

📊 FEATURE: DGS6MO
--------------------------------------------------
Unique values: 232 values
Number of possible splits: 231
🏆 Best split for DGS6MO: ≤ 2.440 (gain: 421.149045)

📊 FEATURE: DGS1
--------------------------------------------------
Unique values: 263 values
Number of possible splits: 262
🏆 Best split for DGS1: ≤ 1.165 (gain: 454.623375)

📊 FEATURE: DGS2
--------------------------------------------------
Unique values: 282 values
Number of possible splits: 281
🏆 Best split for DGS2: ≤ 0.205 (gain: 789.447937)

📊 FEATURE: DGS3
--------------------------------------------------
Unique values: 284 values
Number of possible splits: 283
🏆 Best split for DGS3: ≤ 0.265 (gain: 783.355375)

📊 FEATURE: DGS5
--------------------------------------------------
Unique values: 267 values
Number of possible splits: 266
🏆 Best split for DGS5: ≤ 0.405 (gain: 788.594500)

📊 FEATURE: DGS7
--------------------------------------------------
Unique values: 278 values
Number of possible splits: 277
🏆 Best split for DGS7: ≤ 0.545 (gain: 956.924826)

📊 FEATURE: DGS10
--------------------------------------------------
Unique values: 264 values
Number of possible splits: 263
🏆 Best split for DGS10: ≤ 4.140 (gain: 897.354267)

📊 FEATURE: DGS20
--------------------------------------------------
Unique values: 255 values
Number of possible splits: 254
🏆 Best split for DGS20: ≤ 4.540 (gain: 1042.884840)

📊 FEATURE: DGS30
--------------------------------------------------
Unique values: 256 values
Number of possible splits: 255
🏆 Best split for DGS30: ≤ 4.280 (gain: 978.475416)

📊 FEATURE: DTB3
--------------------------------------------------
Unique values: 212 values
Number of possible splits: 211
🏆 Best split for DTB3: ≤ 0.275 (gain: 460.790267)

📊 FEATURE: DTB6
--------------------------------------------------
Unique values: 225 values
Number of possible splits: 224
🏆 Best split for DTB6: ≤ 0.735 (gain: 434.096152)

📊 FEATURE: DTB1YR
--------------------------------------------------
Unique values: 252 values
Number of possible splits: 251
🏆 Best split for DTB1YR: ≤ 1.140 (gain: 454.623375)

📊 FEATURE: T10Y2Y
--------------------------------------------------
Unique values: 239 values
Number of possible splits: 238
🏆 Best split for T10Y2Y: ≤ 0.315 (gain: 975.650487)

📊 FEATURE: T10Y3M
--------------------------------------------------
Unique values: 284 values
Number of possible splits: 283
🏆 Best split for T10Y3M: ≤ 0.300 (gain: 597.856004)

📊 FEATURE: T5YIE
--------------------------------------------------
Unique values: 197 values
Number of possible splits: 196
🏆 Best split for T5YIE: ≤ 2.645 (gain: 1447.972767)

📊 FEATURE: T10YIE
--------------------------------------------------
Unique values: 152 values
Number of possible splits: 151
🏆 Best split for T10YIE: ≤ 2.525 (gain: 2304.445533)

📊 FEATURE: BAMLH0A0HYM2
--------------------------------------------------
Unique values: 260 values
Number of possible splits: 259
🏆 Best split for BAMLH0A0HYM2: ≤ 3.135 (gain: 217.457871)

📊 FEATURE: BAMLC0A0CM
--------------------------------------------------
Unique values: 112 values
Number of possible splits: 111
🏆 Best split for BAMLC0A0CM: ≤ 0.925 (gain: 374.470834)

📊 FEATURE: ema
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for ema: ≤ 371.373 (gain: 567.243190)

📊 FEATURE: macd
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for macd: ≤ 1.247 (gain: 707.597869)

📊 FEATURE: macds
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for macds: ≤ -4.030 (gain: 504.354938)

📊 FEATURE: rsi
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for rsi: ≤ 54.522 (gain: 621.418507)

📊 FEATURE: roc
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for roc: ≤ -6.582 (gain: 351.642280)

📊 FEATURE: trix
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for trix: ≤ -0.130 (gain: 1040.037505)

📊 FEATURE: rmi
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for rmi: ≤ 36.734 (gain: 292.261743)

📊 FEATURE: bolh
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for bolh: ≤ 425.480 (gain: 649.983762)

📊 FEATURE: boll
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for boll: ≤ 282.721 (gain: 445.895610)

📊 FEATURE: bolm
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for bolm: ≤ 405.037 (gain: 606.969441)

📊 FEATURE: dpo
--------------------------------------------------
Unique values: 540 values
Number of possible splits: 539
🏆 Best split for dpo: ≤ 4.932 (gain: 1136.478588)

================================================================================
🏆 OVERALL BEST SPLIT (ROOT NODE)
================================================================================
Feature: vrp
Threshold: 6.958123
Information Gain: 2829.828337
Left group:  422 samples, mean=   32.99
Right group: 118 samples, mean=  -95.74

📈 TOP 10 SPLITS RANKED BY INFORMATION GAIN:
----------------------------------------------------------------------
 1. vrp             ≤    6.958 | Gain: 2829.828337
 2. vrp             ≤    6.944 | Gain: 2814.036628
 3. vrp             ≤    7.017 | Gain: 2747.100057
 4. vrp             ≤    6.973 | Gain: 2720.484490
 5. vrp             ≤    7.055 | Gain: 2699.062153
 6. vrp             ≤    6.911 | Gain: 2671.138968
 7. vrp             ≤    6.896 | Gain: 2671.013706
 8. vrp             ≤    7.419 | Gain: 2665.149324
 9. rv              ≤   22.360 | Gain: 2663.428490
10. vrp             ≤    6.880 | Gain: 2651.413799

================================================================================</pre>
</div>    

<div class="main-content">
<img src="decision_tree_regressor.png" alt="Decision Tree Regressor" class="custom-image1">
</div>


  

<div style="display: flex; gap: 30px;">
 <div class="container" style="flex: 1;">
   <h1>Random Forest Regressor Algorithm Steps</h1>
   <div class="algorithm-box">
     <div class="step">
       <span class="bullet">•</span> <span class="bootstrap">Create N bootstrap samples</span> (with replacement)
     </div>
     <div class="step">
       <span class="bullet">•</span> <span class="for-loop">For each bootstrap sample (in parallel)</span>
     </div>
     <div class="step nested-level-1">
       <span class="bullet">•</span> <span class="keyword">Original MSE</span> from Y values in this sample
     </div>
     <div class="step nested-level-1">
       <span class="bullet">•</span> <span class="for-loop">For each node split</span>
     </div>
     <div class="step nested-level-2">
       <span class="bullet">•</span> <span class="bootstrap">Randomly select subset of features</span> (√n_features)
     </div>
     <div class="step nested-level-2">
       <span class="bullet">•</span> <span class="for-loop">For each selected feature</span>
     </div>
     <div class="step nested-level-3">
       <span class="bullet">•</span> <span class="for-loop">For each possible split</span> (based on X values)
     </div>
     <div class="step nested-level-3">
       <span class="bullet">•</span> <span class="keyword">Split Y values</span> into two groups
     </div>
     <div class="step nested-level-3">
       <span class="bullet">•</span> <span class="keyword">Calculate mean and MSE</span> for each group
     </div>
     <div class="step nested-level-3">
       <span class="bullet">•</span> <span class="keyword">Combine MSEs</span> with weighted average
     </div>
     <div class="step nested-level-3">
       <span class="bullet">•</span> <span class="emphasis">Information Gain</span> = Original MSE - Weighted MSE
     </div>
     <div class="step nested-level-2">
       <span class="bullet">•</span> <span class="emphasis">Track split with highest gain</span> for selected features
     </div>
     <div class="step nested-level-1">
       <span class="bullet">•</span> <span class="emphasis">Select best split</span> and continue building tree
     </div>
     <div class="step">
       <span class="bullet">•</span> <span class="emphasis">Average predictions</span> from all N trees
     </div>
   </div>
 </div>

 <div class="container" style="flex: 1;">
   <h1>XGBoost Regressor Algorithm Steps</h1>
   <div class="algorithm-box">
     <div class="step">
       <span class="bullet">•</span> <span class="keyword">Initialize predictions</span> (mean of Y values)
     </div>
     <div class="step">
       <span class="bullet">•</span> <span class="for-loop">For each tree (sequentially)</span>
     </div>
     <div class="step nested-level-1">
       <span class="bullet">•</span> <span class="sequential">Calculate residuals</span> = Y - current_predictions
     </div>
     <div class="step nested-level-1">
       <span class="bullet">•</span> <span class="keyword">Original MSE</span> from residuals (not original Y)
     </div>
     <div class="step nested-level-1">
       <span class="bullet">•</span> <span class="for-loop">For each feature</span>
     </div>
     <div class="step nested-level-2">
       <span class="bullet">•</span> <span class="for-loop">For each possible split</span> (based on X values)
     </div>
     <div class="step nested-level-3">
       <span class="bullet">•</span> <span class="sequential">Split residuals</span> into two groups
     </div>
     <div class="step nested-level-3">
       <span class="bullet">•</span> <span class="keyword">Calculate mean and MSE</span> for each group
     </div>
     <div class="step nested-level-3">
       <span class="bullet">•</span> <span class="keyword">Combine MSEs</span> with weighted average
     </div>
     <div class="step nested-level-3">
       <span class="bullet">•</span> <span class="emphasis">Information Gain</span> = Residual MSE - Weighted MSE
     </div>
     <div class="step nested-level-2">
       <span class="bullet">•</span> <span class="emphasis">Track split with highest gain</span> for this feature
     </div>
     <div class="step nested-level-1">
       <span class="bullet">•</span> <span class="emphasis">Select best split</span> across all features
     </div>
     <div class="step nested-level-1">
       <span class="bullet">•</span> <span class="sequential">Update predictions</span> += learning_rate × tree_prediction
     </div>
     <div class="step">
       <span class="bullet">•</span> <span class="emphasis">Final prediction</span> = sum of all tree contributions
     </div>
   </div>
 </div>
</div>  

  
  
<div class="container">
   <h1>Decision Tree Classifier Algorithm Steps</h1>
   <div class="algorithm-box">
       <div class="step">
           <span class="bullet">•</span> <span class="keyword">Original Gini Impurity</span> from all Y values
       </div>
       <div class="step">
           <span class="bullet">•</span> <span class="for-loop">For each feature</span>
       </div>
       <div class="step nested-level-1">
           <span class="bullet">•</span> <span class="for-loop">For each possible split</span> (based on X values)
       </div>
       <div class="step nested-level-2">
           <span class="bullet">•</span> <span class="keyword">Split Y values</span> into two groups
       </div>
       <div class="step nested-level-2">
           <span class="bullet">•</span> <span class="keyword">Calculate class counts and Gini</span> for each group
       </div>
       <div class="step nested-level-2">
           <span class="bullet">•</span> <span class="keyword">Combine Gini scores</span> with weighted average
       </div>
       <div class="step nested-level-2">
           <span class="bullet">•</span> <span class="emphasis">Information Gain</span> = Original Gini - Weighted Gini
       </div>
       <div class="step nested-level-1">
           <span class="bullet">•</span> <span class="emphasis">Track split with highest gain</span> for this feature
       </div>
       <div class="step">
           <span class="bullet">•</span> <span class="emphasis">Select best split</span> across all features
       </div>
   </div>
</div>


  

<div class="main-content">
<img src="decision_tree_classifier.png" alt="Decision Tree Classifier" class="custom-image1">
</div>


<div class="container">
    <h1>Static Portfolio Theory for Variance and Gamma Swaps</h1>

    <div class="toc">
        <h3>Contents</h3>
        <ul>
            <li><a href="#theory">The Theory Behind Static Replication</a></li>
            <li><a href="#variance-theory">Variance Swap Theory</a></li>
            <li><a href="#gamma-theory">Gamma Swap Theory</a></li>
            <li><a href="#practical">How Theory Translates to Trades</a></li>
            <li><a href="#comparison">Quick Comparison</a></li>
        </ul>
    </div>

    <h2 id="theory">The Theory Behind Static Replication</h2>
    <p>The theory relies on replicating the payoffs using option pricing mathematics. Here are the key formulas:</p>

    <h3 id="variance-theory">Variance Swap Theory</h3>
    <p>The realized variance of a stock can be replicated by a portfolio weighted by <span class="highlight">1/K²</span>:</p>
    
    <div class="formula">
        Variance ≈ ∫ (1/K²) × Option(K) dK
    </div>

    <p><strong>Where:</strong></p>
    <ul>
        <li><span class="math">K</span> = strike price</li>
        <li>You buy both calls (K > S₀) and puts (K < S₀)</li>
        <li>Weight each option by 1/strike²</li>
        <li><span class="math">S₀</span> = current stock price</li>
    </ul>

    <p><strong>Why 1/K²?</strong> This comes from the mathematical relationship between option prices and realized variance in the Black-Scholes framework.</p>

    <h3 id="gamma-theory">Gamma Swap Theory</h3>
    <p>Gamma can be replicated with a different weighting - typically <span class="highlight">1/K</span>:</p>
    
    <div class="formula">
        Gamma exposure ≈ ∫ (1/K) × Option(K) dK
    </div>

    <div class="key-points">
        <h4>The Mathematical Intuition:</h4>
        <ul>
            <li>Options naturally capture convexity (gamma/variance effects)</li>
            <li>By weighting options across all strikes with these specific formulas, the portfolio's payout automatically matches what variance/gamma swaps should pay</li>
            <li>It's like the options "naturally aggregate" into the desired exposure</li>
        </ul>
    </div>

    <div class="problem-box">
        <h4>The Problem in Practice:</h4>
        <p>You need options at <strong>every possible strike</strong>, but:</p>
        <ul>
            <li>Exchanges only list strikes in increments (5, 10, 25 point intervals)</li>
            <li>Far out-of-the-money options are illiquid</li>
            <li>Very low/high strikes might not exist at all</li>
        </ul>
        <p>So the "static" theory assumes infinite liquidity across all strikes, which doesn't exist in reality.</p>
    </div>

    <h2 id="practical">How Theory Translates to Actual Trades</h2>

    <h3>Variance Swap - Long Position (receiving realized variance)</h3>
    <p><strong>What you buy:</strong></p>
    <ul>
        <li><strong>Puts</strong> at all strikes below current stock price (K < S₀)</li>
        <li><strong>Calls</strong> at all strikes above current stock price (K > S₀)</li>
        <li>Each weighted by <span class="highlight">1/K²</span></li>
    </ul>

    <div class="example-box">
        <h4>Example: Stock at $100</h4>
        <ul>
            <li>Buy put at $95 strike: quantity = 1/95² = 0.000111</li>
            <li>Buy put at $90 strike: quantity = 1/90² = 0.000123</li>
            <li>Buy call at $105 strike: quantity = 1/105² = 0.000091</li>
            <li>Buy call at $110 strike: quantity = 1/110² = 0.000083</li>
            <li>etc.</li>
        </ul>
    </div>

    <h3>Gamma Swap - Long Position</h3>
    <p><strong>What you buy:</strong></p>
    <ul>
        <li>Same structure (puts below, calls above current price)</li>
        <li>But weighted by <span class="highlight">1/K</span> instead of <span class="highlight">1/K²</span></li>
    </ul>

    <div class="example-box">
        <h4>Example: Stock at $100</h4>
        <ul>
            <li>Buy put at $95: quantity = 1/95 = 0.0105</li>
            <li>Buy put at $90: quantity = 1/90 = 0.0111</li>
            <li>Buy call at $105: quantity = 1/105 = 0.0095</li>
            <li>etc.</li>
        </ul>
    </div>

    <div class="key-points">
        <h4>Key Points:</h4>
        <ul>
            <li>You're always <strong>buying</strong> options (long gamma/convexity)</li>
            <li>The weighting makes far OTM options have smaller positions</li>
            <li>Lower strikes get higher weightings due to the 1/K or 1/K² factor</li>
            <li>You need both puts and calls to capture moves in both directions</li>
        </ul>
        <p><strong>In Practice:</strong> Dealers approximate this by buying options at available strikes and interpolating.</p>
    </div>

    <h2 id="comparison">Quick Comparison</h2>
    <table class="comparison-table">
        <thead>
            <tr>
                <th>Aspect</th>
                <th>Variance Swap</th>
                <th>Gamma Swap</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>Weighting Formula</strong></td>
                <td>1/K²</td>
                <td>1/K</td>
            </tr>
            <tr>
                <td><strong>Tail Exposure</strong></td>
                <td>Lower (due to 1/K² weighting)</td>
                <td>Higher (due to 1/K weighting)</td>
            </tr>
            <tr>
                <td><strong>Example Quantity at $95 Strike</strong></td>
                <td>0.000111</td>
                <td>0.0105</td>
            </tr>
            <tr>
                <td><strong>Hedging Approach</strong></td>
                <td>Static replication possible</td>
                <td>Static replication possible</td>
            </tr>
            <tr>
                <td><strong>Market Liquidity</strong></td>
                <td>Was popular, collapsed in 2008</td>
                <td>Never gained meaningful traction</td>
            </tr>
        </tbody>
    </table>
</div>


<main class="wrap">
<header>
  <h1>Black–Scholes–Merton: Assumptions &amp; Where They're Used</h1>
  <p>A quick mapping from each assumption to the exact step in the derivation and why it matters.</p>
</header>

<section class="card table-wrap" aria-label="Assumptions table">
  <table>
    <thead>
      <tr>
        <th scope="col">Assumption</th>
        <th scope="col">Where it's used in derivation</th>
        <th scope="col">Why it's needed</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Stock price follows GBM</strong> \(dS_t = \mu S_t\,dt + \sigma S_t\,dW_t\) with constant \(\mu,\sigma\)</td>
        <td>Starting point; plug into Itô's Lemma for \(V(S,t)\)</td>
        <td>Continuous paths, proportional volatility, lognormal prices → tractable and realistic enough for the model</td>
      </tr>
      <tr>
        <td><strong>No transaction costs, taxes, bid–ask spreads</strong></td>
        <td>Forming and continuously rebalancing \(\Pi = V - V_S S\)</td>
        <td>Prevents hedging frictions; exact term-by-term cancellation relies on costless trading</td>
      </tr>
      <tr>
        <td><strong>Continuous trading</strong></td>
        <td>Maintain \(\Delta = V_S\) at every instant</td>
        <td>Without continuous rebalancing, the random \(dW_t\) exposure reappears</td>
      </tr>
      <tr>
        <td><strong>Short selling allowed</strong></td>
        <td>Setting \(\Delta = V_S\) (which can be negative)</td>
        <td>You must be able to short the stock to hedge options with negative delta</td>
      </tr>
      <tr>
        <td><strong>Constant risk-free rate \(r\)</strong></td>
        <td>Riskless-return step: \(d\Pi = r\,\Pi\,dt\)</td>
        <td>Simplifies discounting/replication; yields constant-coefficient PDE</td>
      </tr>
      <tr>
        <td><strong>No dividends</strong> (in basic form)</td>
        <td>In the PDE drift term \(r S V_S\)</td>
        <td>If dividends with yield \(q\) exist, replace \(r\) with \(r - q\) in the PDE</td>
      </tr>
      <tr>
        <td><strong>No arbitrage</strong></td>
        <td>Equating riskless growth: \(d\Pi = r\,\Pi\,dt\)</td>
        <td>Forces any riskless portfolio to earn exactly the risk-free rate; pins down the PDE</td>
      </tr>
      <tr>
        <td><strong>Complete market</strong> (every payoff can be replicated)</td>
        <td>Implicit in replication/hedging argument</td>
        <td>Guarantees the hedged portfolio matches the option's cash flows → unique price</td>
      </tr>
    </tbody>
  </table>

  <p class="note">
    <strong>Resulting PDE:</strong><br/>
    \[
    V_t + \frac12\sigma^2 S^2 V_{SS} + r S V_S - r V = 0
    \]
    with terminal condition \(V(S,T)=\text{payoff}(S_T)\) (e.g., \(\max(S-K,0)\) for a call).
  </p>
</section>

<footer>
  <strong>Tip:</strong> To include continuous dividends at yield \(q\), use the same derivation but replace
  \(r S V_S\) with \((r - q) S V_S\) in the PDE.
</footer>
</main>    

<footer>
<p>Copyright © 2023 by Saumik Dana</p>
</footer>

</body>
</html>
